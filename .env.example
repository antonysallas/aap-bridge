# AAP Migration Tool - Environment Variables
# WARNING: Never commit this file with real credentials!

AAP_BRIDGE_CONFIG=config/config.yaml
AAP_BRIDGE_LOG_LEVEL=INFO

AAP_SOURCE_VERSION="2.x"
AAP_TARGET_VERSION="2.x"

# ============================================================================
# Source AAP Configuration
# ============================================================================
# IMPORTANT: Must include /api/v2 path for AAP API
SOURCE__URL=https://<source_aap_url>/api/v2
SOURCE__TOKEN="xxxxx"
SOURCE__VERIFY_SSL=false
SOURCE__TIMEOUT=30

# ============================================================================
# Target AAP Configuration
# ============================================================================
# IMPORTANT: Must include /api/controller/v2 path for Platform Gateway
TARGET__URL=https://<target_aap_url>/api/controller/v2
TARGET__TOKEN="xxxxxx"
TARGET__VERIFY_SSL=false
TARGET__TIMEOUT=30

# ============================================================================
# HashiCorp Vault Configuration (Optional - Uncomment to enable)
# ============================================================================
# VAULT__URL=https://vault.example.com
# VAULT__ROLE_ID=xxxxx
# VAULT__SECRET_ID=xxxxx
# VAULT__NAMESPACE=
# VAULT__PATH_PREFIX=secret/aap
# VAULT__TOKEN_TTL=3600
# VAULT__VERIFY_SSL=true

# ============================================================================
# PostgreSQL Database Configuration
# ============================================================================
# Format: postgresql://username:password@host:port/database
MIGRATION_STATE_DB_PATH=postgresql://aap_migration_user:xxxxxx@localhost:5432/aap_migration

# ============================================================================
# Migration Configuration
# ============================================================================
MIGRATION_BATCH_SIZE=100
MIGRATION_MAX_CONCURRENT=15
MIGRATION_RATE_LIMIT=20
MIGRATION_CHECKPOINT_BACKUP=true
MIGRATION_CHECKPOINT_FREQUENCY=100

# ============================================================================
# Path Configuration
# ============================================================================
PATHS__BASE_DIR=.
PATHS__EXPORT_DIR=exports
PATHS__TRANSFORM_DIR=xformed
PATHS__SCHEMA_DIR=schemas
PATHS__REPORT_DIR=reports
PATHS__BACKUP_DIR=backups
PATHS__MAPPINGS_FILE=config/mappings.yaml

# ============================================================================
# Logging Configuration
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/migration.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# ============================================================================
# Validation Configuration
# ============================================================================
VALIDATION_SAMPLE_SIZE=4000
VALIDATION_CONFIDENCE_LEVEL=0.99
VALIDATION_MARGIN_OF_ERROR=0.02
VALIDATION_ENABLED=true

# ============================================================================
# Performance Tuning
# ============================================================================
MEMORY_LIMIT_MB=8192
BATCH_SIZE_INVENTORIES=100
BATCH_SIZE_HOSTS=200
BATCH_SIZE_CREDENTIALS=50
BATCH_SIZE_PROJECTS=50
BATCH_SIZE_JOB_TEMPLATES=100
BATCH_SIZE_WORKFLOWS=50

# ============================================================================
# Feature Flags
# ============================================================================
DRY_RUN=false
RESUME_ENABLED=true
SKIP_VALIDATION=false
VERBOSE=false

# ============================================================================
# Advanced Options
# ============================================================================
EXPERIMENTAL_FEATURES=false
CONNECTION_POOL_SIZE=10
RETRY_ATTEMPTS=3
RETRY_BACKOFF_MIN=2
RETRY_BACKOFF_MAX=60
